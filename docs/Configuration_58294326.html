<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins SOE : Configuration</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins SOE</a></span>
                            </li>
                                                    <li>
                                <span><a href="Jenkins-Home_56197143.html">Jenkins Home</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins SOE : Configuration
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Geoff Gatward</span>, last modified on Aug 12, 2017
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>The project has several configuration options, all located within a per-branch YAML configuration file at the top level within the Git repository.  (i.e. for a branch named 'development', the file will be 'development.yml')</p><p>This allows the configuration to be seperated from the Jenkinsfile that controls the actual workflow.</p><p>The concept behind 'per-branch' configuration is that different developers may use different test servers for thier builds, and different configurations can be tested within the same overall job.</p><p>An example of this could be with branches named as follows:</p><ul><li>server-development</li><li>server-master</li><li>desktop-development</li><li>desktop-master</li></ul><p>In this case, the 'masterBranch' parameter in the YAML file would be set to the corresponding master branch, allowing both a server and GUI based desktop version of the same SOE to be tested and deployed from within the same Jenkins job.  In most cases however, only development and master would generally be used.</p><h2 id="Configuration-JenkinsPipelineConfigurationOptions">Jenkins Pipeline Configuration Options</h2><p>Most of these should be self-explanatory from the comments in the file.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">---
# Define the base (major) version number of the build
soeMajorVer:    4

git:
  # URL of the Git repository (ssh format)
  gitUrl:       git@github.com:ggatward/RHEL-Builder.git
  # Name of the master branch of this project. Used for build logic and promotion merge behaviour.
  masterBranch: master

# Definitions for our Satellite environment
satellite:
  sat_host:     sat62.core.home.gatwards.org
  sat_org:      GatwardIT       # Satellite Organisation
  sat_user:     svc-jenkins     # User that will be running commands on Satellite (CLI/API)
  r10k_user:    svc-r10k        # User that will be running r10k commands via ssh on Satellite
  puppet_locs:  Home            # Comma seperated list of locations that require the puppet environment.

# Definitions for our VMware environment
# Host is required. If not using VMware set a dummy hostname.
# DataCenter, Cluster and Template Folder all required for Templating and Image provisioning
VMware:
  vmwHost: vcenter.lab.home.gatwards.org
  vmwDC: Home
  vmwCluster: Lab
  vmwTemplFolder: /VM Templates

# Do we want email notifictions of build results (true|false)?
notifyEnabled:  true
# Do we want/need to build and test hosts? (false here results in NO builds at all!)
buildHosts:     true

# ___ KICKSTART ___
# Are we including full kickstart hosts in the build (true/false)?
buildKS: true

# Hosts that will be kickstarted (Full build via KS)
# &#39;reboot&#39; defines what controls reboot of our VMs: [sat6|vmware|manual]
ksHosts:
  - host1:
    name: soe-ks-7vmw.lab.home.gatwards.org
    reboot: vmware
  - host2:
    name: soe-ks-6vmw.lab.home.gatwards.org
    reboot: sat6

# ___ TEMPLATES ___
# Are we including VMware template images in the build? (true/false)
buildTemplates: false

# Hosts that will be kickstarted to become the Gold Templates
# &#39;reboot&#39; defines what controls reboot of our VMs: [sat6|vmware|manual]
# &#39;template&#39; defines the name of the Gold Template to create
templKsHosts:
  - host1:
    name: soe-tmpl-7.lab.home.gatwards.org
    reboot: vmware
    template: RHEL7_Server
  - host2:
    name: soe-tmpl-6.lab.home.gatwards.org
    reboot: sat6
    template: RHEL6_Server

# Hosts that will be deployed for testing from the Gold Templates
templHosts:
  - soe-img-7.lab.home.gatwards.org
  - soe-img-6.lab.home.gatwards.org
</pre>
</div></div>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/58294326/59080768.png">jksscr1.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Aug 12, 2017 18:01</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
