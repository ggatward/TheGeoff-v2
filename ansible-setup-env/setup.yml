---

- name: Install supporting packages
  yum:
    name: "{{ item }}"
    state: present
  with_items:
    - ansible
    - git
    - java-1.8.0-openjdk
    - python2-pyvmomi
    - python2-pip


- name: Install pip packages
  pip:
    name: pysphere


- name: Configure Firewall
  firewalld:
    port: "{{ item }}"
    state: enabled
    immediate: true
    permanent: yes
  with_items:
    - 8080/tcp
    - 8443/tcp
